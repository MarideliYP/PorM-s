{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}
        Página Base
    {% endblock %}</title>

    <link rel="stylesheet" href="{% static "bootstrap-5.3.2-dist/css/bootstrap.min.css" %}">
    <link rel="stylesheet" href="{% static "bootstrap-5.3.2-dist/icons/font/bootstrap-icons.css" %}">
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

</head>

<body class="bg-body d-flex align-items-center justify-content-center min-vh-100" style="
    background-image: url('{% static 'img/marketing-digital-2.png' %}');
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: cover;
    background-position: center;
">

    <div id="root" class="container_root w-100">
    <!-- ✅ Mensajes globales: mejor aquí -->
        <div id="messages-container">
        {% if messages %}
          {% for message in messages %}
            <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %}
                        alert-dismissible fade show"
                 style="position: fixed; top: 20px; right: 20px; z-index: 10000; max-width: 300px;"
                 role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
        {% endif %}
        </div>

        {% block content %}

        {% endblock %}
    </div>

    <script src="{% static 'js/jquery-3.7.1.min.js' %}" type="text/javascript"></script>
    <script src="{% static "bootstrap-5.3.2-dist/js/bootstrap.bundle.js" %}"></script>
    <script src="{% static 'js/register.js' %}" type="text/javascript"></script>
    <script>
        // Auto-close messages after 5 seconds
        document.addEventListener("DOMContentLoaded", function () {
          setTimeout(function () {
            document.querySelectorAll('.alert').forEach(function (el) {
              if (el.parentElement) el.parentElement.removeChild(el);
            });
          }, 5000);
        });
    </script>

</body>
</html>